(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c7d420d"],{1427:function(e,t,o){e.exports=o.p+"img/empty.bdd82f69.png"},"7db3":function(e,t,o){"use strict";o.r(t);var c=o("7a23"),n=o("f0c8"),l=o.n(n),a=o("ada7"),s=o.n(a),i=o("1427"),d=o.n(i);const r={class:"todo-bg pt-1"},h=Object(c["createElementVNode"])("div",{class:"loadingio-spinner-bean-eater-iylmkqp50l"},[Object(c["createElementVNode"])("div",{class:"ldio-t0eby9sr4hr"},[Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("div"),Object(c["createElementVNode"])("div"),Object(c["createElementVNode"])("div")]),Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("div"),Object(c["createElementVNode"])("div"),Object(c["createElementVNode"])("div")])])],-1),b={class:"d-none d-md-block"},u={class:"m-4 d-flex justify-content-between"},m=Object(c["createElementVNode"])("h1",{class:"f-Baloo fw-bold h2 ps-3"},[Object(c["createElementVNode"])("img",{src:l.a,alt:"checkbox",style:{height:"55px"}}),Object(c["createTextVNode"])(" ONLINE TODO LIST ")],-1),p={class:"d-flex align-items-center"},O={class:"h3 pe-3"},j={class:"m-3 d-flex justify-content-between d-md-none"},g=Object(c["createElementVNode"])("h1",{class:"f-Baloo fw-bold pt-2 h5"},[Object(c["createElementVNode"])("img",{src:s.a,alt:"checkbox"}),Object(c["createTextVNode"])(" ONLINE TODO LIST ")],-1),f={class:"d-flex align-items-center"},E={class:"container pb-5"},N={class:"input-group mb-4"},A={class:"input-group-text bg-white border-0",for:"todo",style:{height:"60px"}},V=Object(c["createElementVNode"])("i",{class:"bi bi-plus-square-fill fs-2"},null,-1),k=[V],x={key:0,class:"row row-cols-1 d-flex justify-content-center my-5"},y=Object(c["createElementVNode"])("h3",{class:"col text-center"},"目前尚無待辦資料",-1),B=Object(c["createElementVNode"])("img",{class:"img-fluid col-4",src:d.a,alt:""},null,-1),w=[y,B],T={class:"card text-center"},v={class:"card-header bg-transparent"},z={class:"nav row mt-2"},C=["onClick"],L={class:"card-body"},R={class:"list-group-item fs-5 d-flex justify-content-between"},D=["id","value","checked","onClick"],S=["for"],q=["onClick"],J=Object(c["createElementVNode"])("i",{class:"bi bi-pencil-fill btn-li-h"},null,-1),U=[J],X=["onClick"],G=Object(c["createElementVNode"])("i",{class:"bi bi-trash-fill btn-li-h"},null,-1),K=[G],Z={class:"card-footer bg-transparent d-flex justify-content-between pt-3"},W={class:"pt-3"},Y={class:"fs-5"};function I(e,t,o,n,l,a){const s=Object(c["resolveComponent"])("loading");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",r,[Object(c["createVNode"])(s,{active:l.isLoading},{default:Object(c["withCtx"])(()=>[h]),_:1},8,["active"]),Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("header",u,[m,Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("h2",O,Object(c["toDisplayString"])(l.user),1),Object(c["createElementVNode"])("button",{class:"btn btn-lg btn-h",onClick:t[0]||(t[0]=(...e)=>a.signOut&&a.signOut(...e))},"登出")])])]),Object(c["createElementVNode"])("header",j,[g,Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("button",{class:"btn btn-sm btn-h",onClick:t[1]||(t[1]=(...e)=>a.signOut&&a.signOut(...e))},"登出")])]),Object(c["createElementVNode"])("main",E,[Object(c["createElementVNode"])("div",N,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.todoAdd=e),type:"text",class:"form-control border-0",placeholder:"新增待辦事項",id:"todo"},null,512),[[c["vModelText"],l.todoAdd]]),Object(c["createElementVNode"])("label",A,[Object(c["createElementVNode"])("button",{class:"btn btn-sm",onClick:t[3]||(t[3]=(...e)=>a.addTodo&&a.addTodo(...e)),type:"button",id:"button-addon2"},k)])]),l.token?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",x,w)),Object(c["createElementVNode"])("div",T,[Object(c["createElementVNode"])("div",v,[Object(c["createElementVNode"])("nav",z,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.category,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("a",{class:Object(c["normalizeClass"])(["text-sm-center text-decoration-none col-4 py-2",{tab:l.filteredType===e}]),key:"category"+t,"aria-current":"page",href:"#",onClick:Object(c["withModifiers"])(t=>a.handleChangeCategory(e),["prevent"])},Object(c["toDisplayString"])(e),11,C))),128))])]),Object(c["createElementVNode"])("div",L,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(a.changeTodo,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("ul",{class:"list-group list-group-flush text-start",key:e.id},[Object(c["createElementVNode"])("li",R,[Object(c["createElementVNode"])("span",null,[Object(c["createElementVNode"])("input",{class:"form-check-input me-3 p-2",type:"checkbox",id:e.id,value:e.content,checked:null!==e.completed_at,onClick:t=>a.toggleTodo(e.id)},null,8,D),Object(c["createElementVNode"])("label",{class:Object(c["normalizeClass"])(["form-check-label",{"text-decoration-line-through":null!==e.completed_at}]),for:e.id},Object(c["toDisplayString"])(e.content),11,S)]),Object(c["createElementVNode"])("span",null,[Object(c["createElementVNode"])("button",{type:"button",class:"btn",onClick:t=>a.editTodo(e.id)},U,8,q),Object(c["createElementVNode"])("button",{type:"button",class:"btn",onClick:t=>a.delTodo(e.id)},K,8,X)])])]))),128))]),Object(c["createElementVNode"])("div",Z,[Object(c["createElementVNode"])("p",W,[Object(c["createElementVNode"])("span",Y,Object(c["toDisplayString"])(l.todoList.length),1),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(a.itemCountText),1)]),Object(c["createElementVNode"])("button",{type:"button",class:"btn border-0 btn-h",onClick:t[4]||(t[4]=(...e)=>a.clearAll&&a.clearAll(...e))},"清除已完成項目")])])])])}o("14d9");var F=o("3d20"),M=o.n(F),H={data(){return{todoList:[],checked:[],todoAdd:"",token:"",user:"",isLoading:!1,filteredType:"全部",category:["全部","待完成","已完成"]}},methods:{getData(){this.isLoading=!0;const e="https://todoo.5xcamp.us/todos";this.$http.get(e,{headers:{Authorization:this.token}}).then(e=>{this.todoList=[...e.data.todos],this.isLoading=!1}).catch(e=>{console.log(e),this.isLoading=!1})},handleChangeCategory(e){this.filteredType=e},addTodo(){this.isLoading=!0;const e={todo:{content:this.todoAdd}},t={method:"post",url:"https://todoo.5xcamp.us/todos",headers:{Authorization:this.token},data:e};this.$http(t).then(e=>{console.log(e),this.getData(),this.isLoading=!1,this.todoAdd=""}).catch(e=>{this.isLoading=!1,M.a.fire({title:e.response.data.message,text:"新增失敗",icon:"error",confirmButtonText:"了解"})})},editTodo(e){M.a.fire({title:"待辦事項修改",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"修改",cancelButtonText:"取消",showLoaderOnConfirm:!0,preConfirm:t=>{const o={todo:{content:t}},c={method:"put",url:"https://todoo.5xcamp.us/todos/"+e,headers:{Authorization:this.token},data:o};return this.$http(c).then(e=>{console.log(e),this.getData()}).catch(e=>{console.log(e),M.a.showValidationMessage("編輯失敗，請輸入待完成事項")})}})},delTodo(e){M.a.fire({title:"確定刪除?",text:"不要放棄 !請先試著努力完成待辦再刪除",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"刪除 !",cancelButtonText:"取消"}).then(t=>{if(t.isConfirmed){const t={method:"delete",url:"https://todoo.5xcamp.us/todos/"+e,headers:{Authorization:this.token}};this.$http(t).then(e=>{console.log(e),M.a.fire("刪除成功!","您已成功刪除待辦 !","success"),this.getData()}).catch(e=>{console.log(e),M.a.fire("刪除失敗!","請確定是否帳號密碼過期","error")})}})},signOut(){const e="https://todoo.5xcamp.us/users/sign_out";this.isLoading=!0,this.$http.delete(e,{headers:{Authorization:this.token}}).then(e=>{this.$router.push("/"),this.isLoading=!1,M.a.fire({title:e.data.message,text:"登出成功",icon:"success",confirmButtonText:"了解"})}).catch(e=>{this.isLoading=!1,M.a.fire({title:e.response.data.message,text:"登出失敗",icon:"error",confirmButtonText:"了解"})})},toggleTodo(e){const t={method:"patch",url:`https://todoo.5xcamp.us/todos/${e}/toggle`,headers:{Authorization:this.token}};this.$http(t).then(e=>{console.log(e),this.getData()})},clearAll(){const e=this.todoList.filter(e=>e.completed_at);console.log("checked",e);const t=[];e.forEach(e=>{const o={method:"delete",url:"https://todoo.5xcamp.us/todos/"+e.id,headers:{Authorization:this.token}};t.push(this.$http(o))}),Promise.all(t).then(()=>{M.a.fire({icon:"success",title:"刪除已完成項目成功",showConfirmButton:!1,timer:2e3}),this.getData()}).catch(e=>{M.a.fire({icon:"error",title:e,showConfirmButton:!1,timer:2e3})})}},computed:{itemCountText(){return"全部"===this.filteredType?"個全部項目":"待完成"===this.filteredType?"個待完成項目":"個已完成項目"},changeTodo(){if("全部"===this.filteredType)return this.todoList;if("待完成"===this.filteredType){const e=this.todoList.filter(e=>null===e.completed_at);return e}const e=this.todoList.filter(e=>""!==e.completed_at&&null!==e.completed_at);return e}},mounted(){this.getData()},created(){this.token=this.$route.query.id,this.user=this.$route.query.nickname}},P=(o("c4cb"),o("6b0d")),Q=o.n(P);const $=Q()(H,[["render",I]]);t["default"]=$},ada7:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAABIxJREFUSEvVVl2IlFUYft7zfbOzrev2I5aphKGmrgMzcw6z7CqCRaF54YV1kSVkUHSRIJGFUWAE/WhEN0UX/RBdGGUQJf1YoSyBkDPv+XZXnfwjrLZEwthxyd3Z2e+8cWRnmp3GZZdC6IW5me8973Pe93nOcw7hKgddZTz8PwCXLVs2O5lMzldKzQGwiIhCAIUoiooAyBjTBeASMx9tnOC0Ouzp6blhdHT0DqXUOhG5k4gWNaFiBzO/2t3dvWJsbKyPiFqcczujKNpdnzsJMJ1O3xaG4UYAWkTmE9HNAHwX/lcLESkT0WkRyRNRUUSOEtHBSqWyMAzD74hogU8WEQfgA2vtluriGqDWehcRPVdX9yKAcyJyHsAvRHRKRI4R0dlSqXT8zJkz5cYujTF7AWxu2NxZa+2tkwC11g8R0bsALsRx/HIQBB8x888zUbDW+ikimjQ+ALFzrjuKokIN0BhzLYDTAJKVSuX2gYEBOxMgn6u1XkNEXwFoa1j7JjNvA+BHezkok8ksDYKgH8AJZtYzBUulUje1tLQcIqIVDaM8YK1d/w+VptPpBUEQnCSii8w8f6aAxpj3ADzYsG7YObcmiiLfyKTwolFa6wtENHtkZOTGYrH4R133G5VSzlq7v9lGstnsZqXU+wD8OaxGTER3FwqFb5qtuaxSrfWXROTbX8fMX1d5AeD/nwXgU+fc9iiKfqoWyeVyGefcYQDXNBTex8xeqfEVAY0xOwC8IiLPWmtfyOVy85xzXjz+HFbj9ziOH+nr69u/ZMmSREdHx0EiWtXA22Fr7eq1a9eGw8PDLcx8qdlIkUqlViSTSW9LnzDzJq31Y0T0epMdjgLoFZGzRPRo43cR6bHW5o0xb4vIkLX28aaAEyMcJaLjpVJpVVtb29wwDN8iorsABNMQ0jiA+5l5X1dX15w4jk95b2XmdVcENMacnCBfM3PJAxljdgHYDqBjKlAR+cxau8nz5o29vb3dT+tPZl4+VYffElEOwHJmPldNTKVSi5PJZC+Ay/7YJPoArK7jK9RaD3iDZ+ZGI/j7PtRavwNgq1IqXSgUjtUX7uzsbG9tbd1NRFsb3URE1ltrD9TnG2M+B7DBOZertzWfUzNvY8xOAC+JyDZr7RvNWslkMhuCIPAbmzdxE+yw1r7WmJvNZl9USj2tlLovn89/WP+9BpjNZu9RSn0MYC8zP3AlzjKZzHVBEDzv/ZGZn2hy3jz3R/zxVkpl8/m8H3ktaoATd6EXzq/MvHAayqxP8bwtBbCYiO4FsEVEDllrvconRQ2ws7OzpbW1dZCI5gLoZubvG3hsSSQScxOJRLtz7nql1Mo4jtNE1ENEK6uOIyJCRCfGx8e39vf3+06bA/p/tdZPEtEeAOedc88AKBFRBsBGIroFQEJEvG+GRKTqKvlz6C/oAyLyhVKql5krzaY06Ynh1ZhMJvcopR72xRsWeJf50TnXp5Tyo//BvwjK5fK5oaGh3wYHB0emQ0PTR1Q6ne4Kw9DzMEspdSSO44FyuczFYnFsOkWnypnWq+3fgjRV6X9ZdKpafwE20NEsS90oqgAAAABJRU5ErkJggg=="},bd6c:function(e,t,o){},c4cb:function(e,t,o){"use strict";o("bd6c")}}]);
//# sourceMappingURL=chunk-3c7d420d.cf61292c.js.map